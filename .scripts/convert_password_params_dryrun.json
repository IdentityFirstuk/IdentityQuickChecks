{
  "summary": "Password parameter conversion dry-run",
  "checkedFiles": [
    "Install-QuickChecks.ps1",
    "Sign-QuickChecks.ps1",
    "Generate-CSR.ps1"
  ],
  "findings": {
    "Install-QuickChecks.ps1": "Accepts [System.Security.SecureString]$CertPassword and [pscredential]$CertCredential — OK",
    "Sign-QuickChecks.ps1": "Accepts [securestring]$CertPassword and [pscredential]$CertCredential — OK",
    "Generate-CSR.ps1": "No password-typed parameter found; file flagged for InvalidVariableReferenceWithDrive (syntax) — review signature block after syntax fix"
  },
  "proposedChanges": [
    {
      "file": "Install-QuickChecks.ps1",
      "change": "Add parameter validation: assert $CertPassword is SecureString or null; document IFQC_DEV_PFX_PASSWORD fallback in help. No signature change required."
    },
    {
      "file": "Sign-QuickChecks.ps1",
      "change": "Add a short helper Get-PfxPassword that centralizes env->SecureString conversion and prompt fallback. Replace repeated loop with helper. Dry-run only."
    },
    {
      "file": "Generate-CSR.ps1",
      "change": "Fix syntax (InvalidVariableReferenceWithDrive) first; after syntax fix, re-evaluate whether password params needed and convert if present."
    }
  ],
  "notes": "No direct string-typed password parameters were found. High-impact scripts already accept SecureString/PSCredential. Proposed changes focus on centralizing env var conversion and adding validation/documentation."
}
